<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Memory &mdash; fairo master documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Perception" href="perception.html" />
    <link rel="prev" title="Controller" href="controller.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> fairo
          </a>
              <div class="version">
                master
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="controller.html">Controller</a><ul>
<li class="toctree-l2"><a class="reference internal" href="controller.html#dialogue-manager">Dialogue Manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller.html#semantic-parser">Semantic Parser</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controller.html#dialogue-task">Dialogue Task</a><ul>
<li class="toctree-l3"><a class="reference internal" href="controller.html#interpreter">Interpreter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Memory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="#memorynodes">MemoryNodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="perception.html">Perception</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="droidlet_agents.html">Agents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="droidlet_agents.html#locobot">Locobot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="droidlet_agents.html#locobot-perception">Locobot Perception</a><ul>
<li class="toctree-l4"><a class="reference internal" href="droidlet_agents.html#pipelines">Pipelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="droidlet_agents.html#components">Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="droidlet_agents.html#data-structures">Data Structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="droidlet_agents.html#locobot-pyrobot-interface">Locobot PyRobot interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="droidlet_agents.html#craftassist">Craftassist</a><ul>
<li class="toctree-l3"><a class="reference internal" href="droidlet_agents.html#craftassist-perception">Craftassist Perception</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fairo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Memory</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/memory.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="memory">
<span id="memory-label"></span><h1>Memory<a class="headerlink" href="#memory" title="Permalink to this heading"></a></h1>
<p>The memory system serves as the interface for passing information between the various components of the agent.  It consists of a database, currently implemented in SQL, with an overlayed triplestore, and MemoryNodes, which are Python wrappers for coherent data.  FILTERS objects connect the AgentMemory and MemoryNodes to the controller.</p>
<div class="section" id="database">
<h2>Database<a class="headerlink" href="#database" title="Permalink to this heading"></a></h2>
<p>The entry point to the underlying SQL database is an <a class="reference external" href="https://github.com/facebookresearch/fairo/blob/main/droidlet/memory/sql_memory.py">AgentMemory</a> object.
The database can be directly accessed by <a class="reference external" href="https://github.com/facebookresearch/fairo/blob/main/droidlet/memory/sql_memory.py#L958">_db_read(query, *args)</a>.  Some common queries using triples or that are otherwise unwieldy in raw SQL have been packaged in the <a class="reference external" href="https://github.com/facebookresearch/fairo/blob/main/droidlet/memory/sql_memory.py#L354">basic_search(search_data)</a> <a class="reference external" href="https://github.com/facebookresearch/fairo/blob/main/droidlet/memory/memory_filters.py#L198">interface</a>.</p>
<blockquote>
<div><dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.sql_memory.</span></span><span class="sig-name descname"><span class="pre">AgentMemory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">db_file=':memory:',</span> <span class="pre">schema_paths=['/shared/droidlet/memory/base_memory_schema.sql'],</span> <span class="pre">coordinate_transforms=None,</span> <span class="pre">db_log_path=None,</span> <span class="pre">nodelist=[&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.TaskNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.ChatNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.LocationNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.AttentionNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.TripleNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.InterpreterNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.SetNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.TimeNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.PlayerNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.SelfNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.ProgramNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.NamedAbstractionNode'&gt;,</span> <span class="pre">&lt;class</span> <span class="pre">'droidlet.memory.memory_nodes.ReferenceObjectNode'&gt;],</span> <span class="pre">agent_time=None,</span> <span class="pre">on_delete_callback=None,</span> <span class="pre">place_field_pixels_per_unit=100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory" title="Permalink to this definition"></a></dt>
<dd><p>This class represents agent’s memory and can be extended to add more
capabilities based on the agent’s framework.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db_file</strong> (<em>string</em>) – The database file</p></li>
<li><p><strong>schema_path</strong> (<em>string</em>) – Path to the file containing the database schema</p></li>
<li><p><strong>db_log_path</strong> (<em>string</em>) – Path to where the database logs will be written</p></li>
<li><p><strong>nodelist</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>[</em><a class="reference internal" href="#droidlet.memory.memory_nodes.MemoryNode" title="droidlet.memory.memory_nodes.MemoryNode"><em>MemoryNode</em></a><em>]</em>) – List of memory nodes</p></li>
<li><p><strong>agent_time</strong> (<em>Time object</em>) – object with a .get_time(), get_world_hour, and add_tick()
methods</p></li>
<li><p><strong>on_delete_callback</strong> (<em>callable</em>) – callable to be run when a memory is deleted from Memories table</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>_db_log_file</strong> (<em>FileHandler</em>) – File handler for writing database logs</p></li>
<li><p><strong>_db_log_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Database log index</p></li>
<li><p><strong>db</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – connection object to the database file</p></li>
<li><p><strong>_safe_pickle_saved_attrs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Dictionary for pickled attributes</p></li>
<li><p><strong>all_tables</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of all table names</p></li>
<li><p><strong>nodes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Mapping of node name to table name</p></li>
<li><p><strong>self_memid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – MemoryID for the AgentMemory</p></li>
<li><p><strong>searcher</strong> (<em>MemorySearcher</em>) – A class to process searches through memory</p></li>
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The time of the agent</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory._db_read">
<span class="sig-name descname"><span class="pre">_db_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory._db_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory._db_read" title="Permalink to this definition"></a></dt>
<dd><p>Return all entries returned from running the query against
the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>string</em>) – The SQL query to be run against the database</p></li>
<li><p><strong>args</strong> – Arguments for the query</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tuples satisfying the query</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a>]</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT uuid FROM Memories WHERE node_type=?&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_db_read</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="s1">&#39;Chat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.basic_search">
<span class="sig-name descname"><span class="pre">basic_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.basic_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.basic_search" title="Permalink to this definition"></a></dt>
<dd><p>Perform a basic search using the query</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – A FILTERS dict or sqly query</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the memids and respective values from the search</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>[memid], <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>[value]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.forget">
<span class="sig-name descname"><span class="pre">forget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.forget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.forget" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>remove a memory from the DB. Warning: some of the work is done by</dt><dd><p>delete cascades in SQL</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>memid</strong> (<em>string</em>) – Memory id</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">forget</span><span class="p">(</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.get_last_finished_root_task">
<span class="sig-name descname"><span class="pre">get_last_finished_root_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_control</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.get_last_finished_root_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.get_last_finished_root_task" title="Permalink to this definition"></a></dt>
<dd><p>Get last task that was marked as finished</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action_name</strong> (<em>string</em>) – Name of action associated with task</p></li>
<li><p><strong>recency</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – How recent should the task be</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A TaskNode object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode">TaskNode</a></p>
</dd>
</dl>
<dl>
<dt>Examples ::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">action_name</span> <span class="o">=</span> <span class="s2">&quot;BUILD&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_last_finished_root_task</span> <span class="p">(</span><span class="n">action_name</span><span class="o">=</span><span class="n">action_name</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.get_mem_by_id">
<span class="sig-name descname"><span class="pre">get_mem_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#droidlet.memory.memory_nodes.MemoryNode" title="droidlet.memory.memory_nodes.MemoryNode"><span class="pre">MemoryNode</span></a></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.get_mem_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.get_mem_by_id" title="Permalink to this definition"></a></dt>
<dd><p>Given the memid and an optional node_type,
return the memory node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID</p></li>
<li><p><strong>node_type</strong> (<em>string</em>) – the type of memory node</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a memory node object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#droidlet.memory.memory_nodes.MemoryNode" title="droidlet.memory.memory_nodes.MemoryNode">MemoryNode</a></p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node_type</span> <span class="o">=</span> <span class="s1">&#39;Chat&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_mem_by_id</span><span class="p">(</span><span class="n">memid</span><span class="p">,</span> <span class="n">node_type</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.get_recent_entities">
<span class="sig-name descname"><span class="pre">get_recent_entities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#droidlet.memory.memory_nodes.MemoryNode" title="droidlet.memory.memory_nodes.MemoryNode"><span class="pre">MemoryNode</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.get_recent_entities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.get_recent_entities" title="Permalink to this definition"></a></dt>
<dd><p>Get all entities of given memtype that were recently (within the
time window) attended</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>memtype</strong> (<em>string</em>) – The node type of memory</p></li>
<li><p><strong>time_window</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The time window for maintaining recency window from current time</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of MemoryNode objects</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a>[<a class="reference internal" href="#droidlet.memory.memory_nodes.MemoryNode" title="droidlet.memory.memory_nodes.MemoryNode">MemoryNode</a>]</p>
</dd>
</dl>
<dl>
<dt>Examples ::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">memtype</span> <span class="o">=</span> <span class="s1">&#39;Player&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_recent_entities</span><span class="p">(</span><span class="n">memtype</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.get_time">
<span class="sig-name descname"><span class="pre">get_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.get_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.get_time" title="Permalink to this definition"></a></dt>
<dd><p>Get current time</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>current time from memory</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.get_world_time">
<span class="sig-name descname"><span class="pre">get_world_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.get_world_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.get_world_time" title="Permalink to this definition"></a></dt>
<dd><p>Get the current time in game world</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>current time in the environment world</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_clear">
<span class="sig-name descname"><span class="pre">task_stack_clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear the task stack</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of rows affected</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_find_lowest_instance">
<span class="sig-name descname"><span class="pre">task_stack_find_lowest_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.10)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.10)"><span class="pre">Sequence</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode"><span class="pre">TaskNode</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_find_lowest_instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_find_lowest_instance" title="Permalink to this definition"></a></dt>
<dd><p>Find and return the lowest item in the stack of the given class(es)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cls_names</strong> (<em>Sequence</em>) – Class names of tasks</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A TaskNode object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode">TaskNode</a></p>
</dd>
</dl>
<dl>
<dt>Examples ::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cls_names</span> <span class="o">=</span> <span class="s1">&#39;Move&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_stack_find_lowest_instance</span><span class="p">(</span><span class="n">cls_names</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_pause">
<span class="sig-name descname"><span class="pre">task_stack_pause</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_pause"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_pause" title="Permalink to this definition"></a></dt>
<dd><p>Pause the stack and return True iff anything was stopped</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of rows affected</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_peek">
<span class="sig-name descname"><span class="pre">task_stack_peek</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode"><span class="pre">TaskNode</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_peek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_peek" title="Permalink to this definition"></a></dt>
<dd><p>Return the top of task stack</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TaskNode object or None</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode">TaskNode</a></p>
</dd>
</dl>
<dl>
<dt>Examples ::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">task_stack_peek</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_pop">
<span class="sig-name descname"><span class="pre">task_stack_pop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode"><span class="pre">TaskNode</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_pop" title="Permalink to this definition"></a></dt>
<dd><p>Return the ‘TaskNode’ of the stack head and mark finished</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An object of type TaskNode</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode">TaskNode</a></p>
</dd>
</dl>
<dl>
<dt>Examples ::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">task_stack_pop</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_push">
<span class="sig-name descname"><span class="pre">task_stack_push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.10)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_effect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode"><span class="pre">TaskNode</span></a></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_push"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_push" title="Permalink to this definition"></a></dt>
<dd><p>Create a task object in memory, add triples and add to task stack</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task</strong> (<a class="reference internal" href="tasks.html#droidlet.task.task.Task" title="droidlet.task.task.Task"><em>Task</em></a>) – The task to be pushed</p></li>
<li><p><strong>parent_memid</strong> (<em>string</em>) – Memory ID of the task’s parent</p></li>
<li><p><strong>chat_effect</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – If the task was a result of a chat, add the triple.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A TaskNode object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#droidlet.memory.memory_nodes.TaskNode" title="droidlet.memory.memory_nodes.TaskNode">TaskNode</a></p>
</dd>
</dl>
<dl>
<dt>Examples ::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">task</span> <span class="o">=</span> <span class="n">Move</span><span class="p">(</span><span class="n">agent</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">pos_to_np</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="s2">&quot;approx&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_stack_push</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">parent_memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_resume">
<span class="sig-name descname"><span class="pre">task_stack_resume</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_resume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_resume" title="Permalink to this definition"></a></dt>
<dd><p>Resume stopped tasks. Return True if there was something to resume.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of rows affected</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="droidlet.memory.sql_memory.AgentMemory.task_stack_update_task">
<span class="sig-name descname"><span class="pre">task_stack_update_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/sql_memory.html#AgentMemory.task_stack_update_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.sql_memory.AgentMemory.task_stack_update_task" title="Permalink to this definition"></a></dt>
<dd><p>Update task in memory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID</p></li>
<li><p><strong>task</strong> (<a class="reference internal" href="tasks.html#droidlet.task.task.Task" title="droidlet.task.task.Task"><em>Task</em></a>) – The task object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of rows affected</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
<dl>
<dt>Examples ::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">task</span> <span class="o">=</span> <span class="n">Move</span><span class="p">(</span><span class="n">agent</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="n">pos_to_np</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="s2">&quot;approx&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">task_stack_update_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div></blockquote>
</div>
<div class="section" id="memorynodes">
<h2>MemoryNodes<a class="headerlink" href="#memorynodes" title="Permalink to this heading"></a></h2>
<p>MemoryNodes are python objects that collate data about a particular entity or event.  There are MemoryNodes for ReferenceObjects (things that have a location in space), for Tasks, for chats and commands, etc.  MemoryNode .<strong>init</strong> calls take a memid (key in the base Memories table in the database).  To create a memid (and to enter information relevant to the MemoryNode)  use the classes’ <code class="docutils literal notranslate"><span class="pre">.create()</span></code> method.  These have a different input signature for each type of MemoryNode, but always output a memid.</p>
<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.MemoryNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">MemoryNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#MemoryNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.MemoryNode" title="Permalink to this definition"></a></dt>
<dd><p>This is the main class representing a node in the memory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MemoryNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.ProgramNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">ProgramNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#ProgramNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.ProgramNode" title="Permalink to this definition"></a></dt>
<dd><p>This class represents the logical forms (outputs from
the semantic parser)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>logical_form</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – The semantic parser output for text</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ProgramNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.NamedAbstractionNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">NamedAbstractionNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#NamedAbstractionNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.NamedAbstractionNode" title="Permalink to this definition"></a></dt>
<dd><p>This class represents an abstract concept with a name,
to be used in triples</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>name</strong> (<em>string</em>) – Name of the abstraction, for example : “has_tag”</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">NamedAbstractionNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.ReferenceObjectNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">ReferenceObjectNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#ReferenceObjectNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.ReferenceObjectNode" title="Permalink to this definition"></a></dt>
<dd><p>This is a class representing generic memory node for anything that has a spatial location and can be
used a spatial reference (e.g. to the left of the x).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">,</span> <span class="n">ReferenceObjectNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ReferenceObjectNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.PlayerNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">PlayerNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#PlayerNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.PlayerNode" title="Permalink to this definition"></a></dt>
<dd><p>This class represents humans and other agents that can affect
the world</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>eid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Entity ID</p></li>
<li><p><strong>name</strong> (<em>string</em>) – Name of player</p></li>
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>)</em>) – x, y, z coordinates</p></li>
<li><p><strong>pitch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the vertical angle of the agent’s view vector</p></li>
<li><p><strong>yaw</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the horizontal rotation angle of the agent’s view vector</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">,</span> <span class="n">PlayerNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PlayerNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.SelfNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">SelfNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#SelfNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.SelfNode" title="Permalink to this definition"></a></dt>
<dd><p>This class is a special PLayerNode for representing the
agent’s self</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">,</span> <span class="n">PlayerNode</span><span class="p">,</span> <span class="n">SelfNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">SelfNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.LocationNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">LocationNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#LocationNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.LocationNode" title="Permalink to this definition"></a></dt>
<dd><p>This is a ReferenceObjectNode representing a raw location
(a point in space)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>location</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – (x, y, z) coordinates of the node</p></li>
<li><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a>) – (x, y, z) coordinates of the node</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">,</span> <span class="n">LocationNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LocationNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.AttentionNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">AttentionNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#AttentionNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.AttentionNode" title="Permalink to this definition"></a></dt>
<dd><p>This is a ReferenceObjectNode representing spatial attention</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>attended</strong> (<em>string</em>) – name of the node that is attending</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">,</span> <span class="n">AttentionNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AttentionNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.TimeNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">TimeNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#TimeNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.TimeNode" title="Permalink to this definition"></a></dt>
<dd><p>This class represents a temporal ‘location’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – the value of time</p>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">,</span> <span class="n">TimeNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TimeNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.ChatNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">ChatNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#ChatNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.ChatNode" title="Permalink to this definition"></a></dt>
<dd><p>This node represents a chat/utterance from another agent/human</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>speaker_id</strong> (<em>string</em>) – The memid of the speaker who sent the chat</p></li>
<li><p><strong>chat_text</strong> (<em>string</em>) – The chat string</p></li>
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The time at which the chat was delivered</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">,</span> <span class="n">ChatNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ChatNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="droidlet.memory.memory_nodes.TaskNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">droidlet.memory.memory_nodes.</span></span><span class="sig-name descname"><span class="pre">TaskNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agent_memory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/droidlet/memory/memory_nodes.html#TaskNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#droidlet.memory.memory_nodes.TaskNode" title="Permalink to this definition"></a></dt>
<dd><p>This node represents a task object that was placed on
the agent’s task_stack</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent_memory</strong> (<a class="reference internal" href="#droidlet.memory.sql_memory.AgentMemory" title="droidlet.memory.sql_memory.AgentMemory"><em>AgentMemory</em></a>) – An AgentMemory object</p></li>
<li><p><strong>memid</strong> (<em>string</em>) – Memory ID for this node</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>task</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><em>object</em></a>) – Name of the task</p></li>
<li><p><strong>created</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Time at which it was created</p></li>
<li><p><strong>finished</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Time at which it was finished</p></li>
<li><p><strong>action_name</strong> (<em>string</em>) – The name of action that corresponds to this task</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">TaskNode</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">schema_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;memory_schema.sql&quot;</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agent_memory</span> <span class="o">=</span> <span class="n">AgentMemory</span><span class="p">(</span><span class="n">db_file</span><span class="o">=</span><span class="s2">&quot;:memory:&quot;</span><span class="p">,</span>
<span class="go">                               schema_paths=schema_path,</span>
<span class="go">                               db_log_path=None,</span>
<span class="go">                               nodelist=node_list)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">memid</span> <span class="o">=</span> <span class="s1">&#39;10517cc584844659907ccfa6161e9d32&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TaskNode</span><span class="p">(</span><span class="n">agent_memory</span><span class="o">=</span><span class="n">agent_memory</span><span class="p">,</span> <span class="n">memid</span><span class="o">=</span><span class="n">memid</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="controller.html" class="btn btn-neutral float-left" title="Controller" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="perception.html" class="btn btn-neutral float-right" title="Perception" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Facebook AI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>